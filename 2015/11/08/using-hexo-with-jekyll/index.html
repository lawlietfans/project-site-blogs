<!DOCTYPE html><html lang="zh-cn"><head><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><title> 基于github pages与hexo搭建一个独立博客 · SHENJIEFENG'S BLOG</title><meta name="description" content="Too young too simple"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="short icon" href="/favicon.png"><link rel="stylesheet" href="/css/jekyll.css"><!--[if lt IE 9]>
<script src="js/html5shiv.min.js"></script>
<script src="js/respond.min.js"></script>
<![endif]--></head><body><header class="row-flex-row limit-width vh-center"><a href="/" class="logo"><img src="/favicon.png"></a><nav><ul class="nav-list"><li class="nav-list-item"><a href="/" class="nav-link">主页</a></li><li class="nav-list-item"><a href="/archives/" class="nav-link active">   博客</a></li><li class="nav-list-item"><a href="/atom.xml" class="nav-link">rss</a></li><!--更改__('xxx.title')中的内容，该menu的显示内容会被覆盖        --><!--li.nav-list-item--><!--    a.nav-link(href= theme.menu['github'] target="_blank")    --><!--        = __('github.title')--></ul></nav></header><div class="container limit-width"><section class="row-flex-row"><div class="post"><article class="post-block"><h2 class="post-title"><a href="/2015/11/08/using-hexo-with-jekyll/" class="post-title-link">基于github pages与hexo搭建一个独立博客</a></h2><div class="post-meta"><ul class="post-tag-list"><li class="post-tag-item"><a href="/tags/博客搭建与配置/" class="post-tag-link">博客搭建与配置</a></li></ul><div class="post-time">星期日, 十一月 8日 2015</div></div><div class="post-content"><p>原文地址：<a href="http://lawlietfans.github.io/2015/11/08/using-hexo-with-jekyll/">http://lawlietfans.github.io/2015/11/08/using-hexo-with-jekyll/</a></p>
<p>介绍基于github pages搭建独立博客的博文已经有很多了，而本文旨在帮助读者了解基于github pages与hexo搭建一个独立博客的整体过程，顺便备忘。</p>
<p>在开始动手操作之前，我们应该了解</p>
<h1 id="1_什么是github_page？为什么要用hexo？">1 什么是github page？为什么要用hexo？</h1><p><a href="http://www.ruanyifeng.com/blog/2012/08/blogging_with_jekyll.html" title="搭建一个免费的，无限流量的Blog----github Pages和Jekyll入门" target="_blank" rel="external">github Pages可以被认为是用户编写的、托管在github上的静态网页</a>,GitHub Pages分两种，一种是你的GitHub用户名建立的username.github.io这样的用户&amp;组织页（站），另一种是依附项目的pages。<br>即<a href="https://pages.github.com/" target="_blank" rel="external">organization site和project site</a>.<br>不过官方目前不建议用二级域名，我们这里的例子也是属于organization site.</p>
<p>至于hexo，快速、简洁且高效的博客框架，文档完善，主题丰富</p>
<h1 id="2_配置organization_site">2 配置organization site</h1><p> 新增仓库：<a href="https://github.com/new" target="_blank" rel="external">https://github.com/new</a></p>
<pre><code>Repository name：github账号<span class="class">.github</span><span class="class">.io</span>
Description：随便输入点描述
public
Initialize this repository with <span class="tag">a</span> README
<span class="class">.gitignore</span> 选择初始的文件忽略，我选的java
Licenses：我选的NPL（GNU General Public License v2.<span class="number">0</span>）
配置
</code></pre><p>选择右侧操作区的settings</p>
<pre><code>选择Launch automatic page generator
输入一些基本说明，非必要
选择<span class="operator"><span class="keyword">Load</span> README.md
继续Continue <span class="keyword">to</span> layouts
选择模板（随便选个）
发布Publish page
此时进入<span class="keyword">settings</span>应该会有Your site <span class="keyword">is</span> published <span class="keyword">at</span> <span class="keyword">http</span>://username.github.io的条提示，访问一下，神奇吧！
如果<span class="number">404</span>，请检查你的仓库名或账号名，删除仓库重来，删除也是在<span class="keyword">settings</span>最底部</span>
</code></pre><p><a href="http://liuxing.info/2015/06/14/GitHub%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA/#配置Pages" title="配置pages" target="_blank" rel="external">参考-详细</a></p>
<h1 id="3_本地准备工作">3 本地准备工作</h1><p><a href="http://git-scm.com/download/" target="_blank" rel="external">安装git</a><br>安装Node.JS</p>
<pre><code>安装完成后添加Path环境变量，使npm命令生效。新版已经会自动配置Path  
;C:<span class="command">\Program</span> Files<span class="command">\nodejs</span><span class="command">\node</span>_modules<span class="command">\npm</span>
</code></pre><p>安装Hexo</p>
<pre><code>npm <span class="operator"><span class="keyword">install</span> hexo-cli -<span class="keyword">g</span>
npm <span class="keyword">install</span> hexo <span class="comment">--save</span>

#如果命令无法运行，可以尝试更换taobao的npm源
npm <span class="keyword">install</span> -<span class="keyword">g</span> cnpm <span class="comment">--registry=https://registry.npm.taobao.org</span>
#新建文件夹&lt;folder&gt;
cd &lt;folder&gt;
hexo init 
npm <span class="keyword">install</span></span>
</code></pre><p>运行</p>
<pre><code><span class="variable">$ </span>hexo g
<span class="variable">$ </span>hexo s
</code></pre><p>Git Bush或者Linux环境下terminal会提示输入<a href="http://0.0.0.0:4000" target="_blank" rel="external">http://0.0.0.0:4000</a>  查看自带landspace主题效果</p>
<p><a href="http://wsgzao.github.io/post/hexo-guide/" title="使用GitHub和Hexo搭建免费静态Blog" target="_blank" rel="external">参考-详细</a></p>
<h1 id="4_如何使用新主题，以Jekyll主题为例">4 如何使用新主题，以<a href="http://pinggod.com/" target="_blank" rel="external">Jekyll主题</a>为例</h1><p><a href="https://hexo.io/themes/" title="more themes" target="_blank" rel="external">hexo提供的更多主题</a>提供了丰富的主题可以选择，安装方法大同小异，其中包括一款黑色背景的，好了，就它了。</p>
<p>安装插件</p>
<pre><code>npm <span class="operator"><span class="keyword">install</span> <span class="comment">--save hexo-renderer-jade hexo-generator-feed</span></span>
</code></pre><p>clone该主题到<code>&lt;folder&gt;/themes/jekyll</code>文件夹</p>
<pre><code>git <span class="keyword">clone</span> <span class="title">https</span>://github.com/pinggod/hexo-theme-jekyll.git themes/jekyll
</code></pre><p>修改<folder>/_config.yml的theme值</folder></p>
<p>添加feed属性</p>
<p>复制Demo.md到source/_post文件夹</p>
<p>本地运行预览</p>
<p>配置<a href="http://hexo.io/docs/deployment.html" target="_blank" rel="external">deploy属性</a></p>
<pre><code><span class="attribute">deploy</span>:
  <span class="attribute">type</span>: git
  <span class="attribute">repository</span>: 前面步骤在github建好的Repository的地址
  <span class="attribute">branch</span>: master
</code></pre><p>发布到远程    </p>
<pre><code><span class="title">hexo</span> d
</code></pre><p>最后就可以在yourname.github.io看到效果了    </p>
<p>个人觉得不错的其他主题：</p>
<ul>
<li><a href="http://jukezhang.com/2014/11/01/construct-blog-with-hexo&amp;&amp;gitcafe/#安装Jacman主题：" title="jacman主题" target="_blank" rel="external">jacman</a>    </li>
<li><a href="http://yangjian.me/workspace/introducing-pacman-theme/" title="pacman主题" target="_blank" rel="external">pacman</a></li>
</ul>
<p>常用命令总结</p>
<pre><code>hexo <span class="keyword">new</span> <span class="string">"postName"</span> <span class="preprocessor"># 新建文章</span>
hexo <span class="keyword">new</span> page <span class="string">"about"</span> <span class="preprocessor"># 新建页面</span>
hexo generate <span class="preprocessor">#生成静态页面至public目录</span>
hexo <span class="keyword">server</span> <span class="preprocessor">#开启预览访问端口（默认端口4000，'ctrl + c'关闭server）</span>
hexo deploy <span class="preprocessor">#将.deploy目录部署到GitHub</span>
hexo clean <span class="preprocessor"># 有时候配置没有立即生效需要删除cache</span>
</code></pre><h1 id="5_修改这个主题">5 修改这个主题</h1><h2 id="5-1_添加新文章">5.1 添加新文章</h2><pre><code>$ hexo new <span class="string">[layout]</span> &lt;title&gt;
</code></pre><p>Layout包括：post、page 和 draft</p>
<p>Hexo 默认以标题做为文件名称<code>:title.md</code>：</p>
<pre><code><span class="formula">$ hexo new test-2249
INFO  Created: e:<span class="command">\workspace</span><span class="command">\github</span><span class="command">\blog</span>-github<span class="command">\source</span><span class="command">\_</span>posts<span class="command">\test</span>-2249.md</span>
</code></pre><p>如果设为<code>:year-:month-:day-:title.md</code> </p>
<pre><code>$ hexo <span class="keyword">new</span> test-<span class="number">2247</span>
INFO  Created: e:\workspace\github\blog-github\source\_posts\<span class="number">2015</span>-<span class="number">11</span>-<span class="number">07</span>-test-<span class="number">224</span>
<span class="number">7.</span>md 
</code></pre><p>两者都自动生成title和date，但是后者更便于管理。    </p>
<h2 id="5-2_修改主页">5.2 修改主页</h2><p>首先对比主页<code>&lt;foldername&gt;/themes/jekyll/layout/index.jade</code>:</p>
<pre><code><span class="label">extends</span> _partial/layout

<span class="keyword">block </span>content
    <span class="preprocessor">include</span> _mixin/post
    +homePost()

<span class="keyword">block </span>extra
    <span class="preprocessor">include</span> _components/project
    <span class="preprocessor">include</span> _components/<span class="keyword">selfintro</span>
</code></pre><p>和归档页<code>&lt;foldername&gt;/themes/jekyll/layout/archive.jade</code>:</p>
<pre><code>extends _partial/layout

    block <span class="attribute">content</span>
        include _mixin/post
        +<span class="function"><span class="title">archivePost</span><span class="params">()</span></span>
        <span class="tag">aside</span><span class="class">.sidebar</span>
            include _sidebar/tag
            include _sidebar/post            
</code></pre><p>删掉index.jade中<code>include _components/project</code>这句就比较精简了。<br>主页样式变成<code>一篇新文章+个人介绍</code>，直接修改jekyll/_config.yml下<code>selfIntro:</code>部分并不能令人满意，这里直接修改<code>/layout/_components/selfintro.jade</code></p>
<pre><code><span class="tag">section</span><span class="class">.selfintro</span>
    <span class="class">.wrap</span><span class="class">.row-flex</span><span class="class">.row-flex-row</span><span class="class">.limit-width</span>
        <span class="class">.sign</span>
            <span class="function"><span class="title">img</span><span class="params">(src=<span class="string">"img/github.png"</span>, alt=<span class="string">""</span>)</span></span>
        <span class="class">.intro</span>
            <span class="keyword">if</span> theme<span class="class">.selfIntro</span><span class="class">.title</span>
                <span class="tag">h3</span><span class="class">.title</span>
                    != theme<span class="class">.selfIntro</span><span class="class">.title</span>
            <span class="keyword">else</span> 
                <span class="tag">h3</span><span class="class">.title</span> 超爽der
            <span class="keyword">if</span> theme<span class="class">.selfIntro</span><span class="class">.content</span>
                <span class="tag">p</span><span class="class">.content</span> 
                    != theme<span class="class">.selfIntro</span><span class="class">.content</span>
            <span class="keyword">else</span> 
                <span class="tag">p</span><span class="class">.content</span> 空空

            <span class="comment">// 默认的href都为空，填上链接</span>
            <span class="tag">ul</span><span class="class">.contact</span>
                <span class="tag">li</span> 
                    <span class="function"><span class="title">a</span><span class="params">(href=<span class="string">"https://github.com/lawlietfans"</span>)</span></span> GitHub
                <span class="tag">li</span>
                    <span class="function"><span class="title">a</span><span class="params">(href=<span class="string">"http://weibo.com/lawlietfans"</span>)</span></span> Weibo
</code></pre><p>接着再找一个合适的logo替换github.png就可以了（不用也行。。），logo背景透明才能和主题融合</p>
<p>see more: <a href="http://naltatis.github.io/jade-syntax-docs/" target="_blank" rel="external">Jade Syntax Documentatio</a></p>
<pre><code>Comments
<span class="comment">// single line comment</span>
<span class="comment">//- invisible single line comment</span>
</code></pre><h2 id="5-3_修改头部导航">5.3 修改头部导航</h2><p>从这里<code>/layout/_components/nav.jade</code>添加修改menu</p>
<pre><code>nav
    ul.nav-list
        li.nav-list-<span class="keyword">item</span>
            <span class="operator">a</span>.nav-link(href= theme.menu[<span class="string">'home'</span>] class=is_home() ? <span class="string">'active'</span> : <span class="string">''</span>)
                = __(<span class="string">'index.title'</span>)
        li.nav-list-<span class="keyword">item</span>
            <span class="operator">a</span>.nav-link(href= theme.menu[<span class="string">'blog'</span>] class= is_archive() || is_post() ? <span class="string">'active'</span> : <span class="string">''</span>)    
                = __(<span class="string">'archive.title'</span>)
        li.nav-list-<span class="keyword">item</span>
            <span class="operator">a</span>.nav-link(href= theme.menu[<span class="string">'rss'</span>])
                = __(<span class="string">'rss.title'</span>)
       <span class="comment"> //li.nav-list-item</span>
       <span class="comment"> //    a.nav-link(href= theme.menu['github'] target="_blank")    </span>
       <span class="comment"> //        = __('github.title')</span>
</code></pre><p>依个人口味酌情修改即可。除此之外，RSS插件<a href="http://wsgzao.github.io/post/hexo-guide/" title="使用GitHub和Hexo搭建免费静态Blog" target="_blank" rel="external">安装之后</a>本地预览是没效果的，一般部署之后过段时间才有效</p>
<h2 id="5-4_侧边栏">5.4 侧边栏</h2><p><code>layout/_sidebar/</code>包含post.jade、tag.jade、和toc.jade三个部件，理论上都可以添加到archive.jade</p>
<pre><code>extends _partial/layout

block <span class="attribute">content</span>
    include _mixin/post
    +<span class="function"><span class="title">archivePost</span><span class="params">()</span></span>
    <span class="tag">aside</span><span class="class">.sidebar</span>
        include _sidebar/tag
        include _sidebar/post
</code></pre><p>但是添加<code>include _sidebar/toc</code>之后会报错如下：</p>
<pre><code>Unhandled rejection <span class="string">TypeError:</span> <span class="string">e:</span>\workspace\github\blog-github\themes\jekyll\lay
out\_sidebar\toc.<span class="string">jade:</span><span class="number">1</span>
  &gt; <span class="number">1</span>| <span class="keyword">if</span> toc(page.content, {<span class="string">list_number:</span> <span class="literal">false</span>})
    <span class="number">2</span>|   h3 文章目录
    <span class="number">3</span>|   != list_tags({<span class="string">amount:</span> <span class="number">5</span>, <span class="string">show_count:</span> <span class="literal">false</span>})
    <span class="number">4</span>|            
</code></pre><p>有待达人解决</p>
<h2 id="5-5_最后如果使用这个主题有兴趣和问题希望到这里多多交流">5.5 最后如果使用这个主题有兴趣和问题希望到<a href="https://github.com/pinggod/hexo-theme-jekyll/issues" target="_blank" rel="external">这里</a>多多交流</h2></div></article><div class="pagination"><span class="pagination-prev">PREV</span><a href="/2015/11/08/hello-world/" class="pagination-next">NEXT</a></div></div><aside class="sidebar"><h3>分类标签</h3><ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/css/">css</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/博客搭建与配置/">博客搭建与配置</a></li></ul><h3>最新文章</h3><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2015/11/08/using-hexo-with-jekyll/">基于github pages与hexo搭建一个独立博客</a></li><li class="post-list-item"><a class="post-list-link" href="/2015/11/08/hello-world/">Hello World</a></li><li class="post-list-item"><a class="post-list-link" href="/2015/10/21/official-demo/">辨析 Sass 中的 Map 和 List</a></li></ul></aside></section></div><div class="extra"></div><footer class="footer"><div class="row-flex-row limit-width vh-center"><div class="copyright"><P>The contents of this website are © 2015 <a href="/">SHENJIEFENG</a> under the terms of <a href="https://opensource.org/licenses/MIT">the MIT License</a>.</P></div><div class="power"><p>powered by <a href="https://hexo.io">Hexo</a> and <a href="https://github.com/">GitHub</a>, inspired by <a href="https://jekyllrb.com/">Jekyll</a></p></div></div></footer><script>(function(b,o,i,l,e,r){b.GoogleAnalyticsObject=l;b[l]||(b[l]=function(){(b[l].q=b[l].q||[]).push(arguments)});b[l].l=+new Date;e=o.createElement(i);r=o.getElementsByTagName(i)[0];e.src='//www.google-analytics.com/analytics.js';r.parentNode.insertBefore(e,r)}(window,document,'script','ga'));ga('create',"UA-XXXXXXX-X",'auto');ga('send','pageview');</script><script>var _hmt = _hmt || [];(function() {var hm = document.createElement("script");hm.src = "//hm.baidu.com/hm.js?xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx";var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(hm, s);})();</script><script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script></body></html>